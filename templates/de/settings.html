									<form method="post" data-ajax="false" name="main_form" id="main_form" action="./index.cgi">
										<input type="hidden" name="saveformdata" value="1">
											<div class="form-group">
												<table class="formtable" border="0" width="100%" cellpadding="10">
													<tr>
														<td colspan=3 width="75%" valign="middle">
														<h2>Wunderground&reg; Einstellungen</h2>
														</td>
														<td align="right">
														<a href="http://www.wunderground.com" target="_blank"><img src="/plugins/<!--$psubfolder-->/images/wundergroundLogo_4c_horz_200.png"></a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelapikey">Wunderground API Key:</label>
														</td>
														<td width="50%">
															<input id="apikey" name="apikey" type="text" data-validation="alphanumeric" class="textfield" value="<!--$wuapikey-->" 
																data-validation-error-msg="* Der Wunderground API Key besteht nur aus Zahlen oder Buchstaben ohne Sonderzeichen.">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														<font size="-1"><a id="linkwundermap" href="https://www.wunderground.com/weather/api" target="_blank">Kostenlosen Key erstellen</a></font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelstationtyp">Auswahl der Wetter Station:</label>
														</td>
														<td width="50%">
															<fieldset data-role="controlgroup" data-type="horizontal">
															<input onclick="disable()" type="radio" name="stationtyp" id="stationtypstatid" value="statid" <!--$selectedstationtyp1-->>
															<label for="stationtypstatid">Station-ID</label>
															<input onclick="disable()" type="radio" name="stationtyp" id="stationtypcoord" value="coord" <!--$selectedstationtyp2-->>
															<label for="stationtypcoord">Koordinaten</label>
															<input onclick="disable()" type="radio" name="stationtyp" id="stationtypautoip" value="autoip" <!--$selectedstationtyp3-->>
															<label for="stationtypautoip">IP-Adresse</label>
															</fieldset>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelstationid">Station ID:</label>
														</td>
														<td width="50%">
															<input id="stationid" name="stationid" type="text" data-validation="alphanumeric" class="textfield" value="<!--$stationid-->" 
																data-validation-allowing=":,." data-validation-optional="true" 
                data-validation-error-msg="* Die Station ID besteht nur aus Zahlen oder Buchstaben ohne Sonderzeichen.">
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														<font size="-1"><a id="linkwundermap" href="https://www.wunderground.com/wundermap/" target="_blank">Suche auf WunderMap&reg;</a></font>
														</td>
													</tr>
													<tr>
														<td width="25%" valign="top">
															<br><label id="labelcoord">Geokoordinaten:</label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
															<td>
															<label id="labelcoordlat">Breitengrad:</label>
															</td>
															<td>
															<input id="coordlat" name="coordlat" type="text" data-validation="number" class="textfield" value="<!--$coordlat-->" 
																data-validation-allowing="range[-90;90],float" data-validation-optional="true"
																data-validation-error-msg="* Bitte geben Sie einen gültigen Breitengrad zwischen -90 und +90 Grad an.">
															</td>
															<td>
															<label id="labelcoordlong">Längengrad:</label>
															</td>
															<td>
															<input id="coordlong" name="coordlong" type="text" data-validation="number" class="textfield" value="<!--$coordlong-->" 
																data-validation-allowing="range[-180;180],float" data-validation-optional="true"
																data-validation-error-msg="* Bitte geben Sie einen gültigen Längengrad zwischen -180 und +180 Grad an.">
															</td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<a id="coordaddresssearch" data-role="button" data-inline="true" data-mini="true" href="#"
															data-role="button" id="btnlistnetworks" data-inline="true" data-mini="true"
															onClick="window.open('/admin/plugins/<!--$psubfolder-->/geolocation.cgi',
															'NewWindow2','scrollbars=true,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no,width=900,height=600')">
															<font size="-1">Google Maps Adresssuche</font>
															</a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelwulang">Sprache:</label>
														</td>
														<td width="50%">
															<select id="wulang" name="wulang" data-mini="true" data-native-menu="false">
																<option value="DL" <!--$selectedwulang1-->>Deutsch</option>
																<option value="EN" <!--$selectedwulang2-->>Englisch</option>
															</select>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelmetric">Einheiten:</label>
														</td>
														<td width="50%">
															<select id="metric" name="metric" data-mini="true" data-native-menu="false">
																<option value="1" <!--$selectedmetric1-->>Metrisch</option>
																<option value="0" <!--$selectedmetric2-->>Anglo-Amerikanisch</option>
															</select>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelauto">Wetterdaten abrufen:</label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
															<td width="20%">
															<fieldset>
																<select onclick="disable()" id="getwudata" name="getwudata" data-role="flipswitch">
																	<option <!--$selectedgetwudata1--> value="0">Aus</option>
																	<option <!--$selectedgetwudata2--> value="1">An</option>
																</select>
															</fieldset>
															</td>
															<td>
															<select id="cron" name="cron" data-mini="true" data-native-menu="false">
																<option value="1" <!--$selectedcron1-->>Minütlich</option>
																<option value="3" <!--$selectedcron2-->>3 Minütlich</option>
																<option value="5" <!--$selectedcron3-->>5 Minütlich</option>
																<option value="10" <!--$selectedcron4-->>10 Minütlich</option>
																<option value="15" <!--$selectedcron5-->>15 Minütlich</option>
																<option value="30" <!--$selectedcron6-->>30 Minütlich</option>
																<option value="60" <!--$selectedcron7-->>Stündlich</option>
															</select>
															</td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1">Für &lt; 3 Minütlich ist ein kostenplfichtiger Wunderground&reg; Account notwendig!</font>
														</td>
													</tr>
													<tr>
														<td colspan=4>
														&nbsp;
														</td>
													</tr>
													<tr>
														<td colspan=3 width="75%" valign="middle">
														<h2>Miniserveranbindung</h2>
														</td>
														<td align="right">
														&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelsendudp">Per UDP senden:</label>
														</td>
														<td width="50%">
															<table border=0 width="100%">
															<tr>
															<td width="20%">
															<fieldset>
																<select id="sendudp" name="sendudp" data-role="flipswitch">
																	<option <!--$selectedsendudp1--> value="0">Aus</option>
																	<option <!--$selectedsendudp2--> value="1">An</option>
																</select>
															</fieldset>
															</td>
															<td>
															<table border=0 width="100%">
															<tr>
															<td>
															<label id="labeludpport">UDP Port:</label>
															</td>
															<td>
															<input id="udpport" name="udpport" type="text" data-validation="number" class="textfield" value="<!--$udpport-->" 
																data-validation-allowing="range[1;65000]"
																data-validation-error-msg="* Bitte geben Sie einen gültigen Port zwischen 1 und 65000 an.">
															</td>
															</tr>
															</table>
															</td>
															</tr>
															</table>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1">Die Wetterdaten per Virtuellem UDP-Eingang vom Miniserver einlesen.</font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelsendhtml">Per HTML bereitstellen:</label>
														</td>
														<td width="50%">
														<fieldset>
															 <select id="sendhtml" name="sendhtml" data-role="flipswitch" disabled=disabled>
																<option value="0">Aus</option>
																<option selected=selected value="1">An</option>
																</select>
														</fieldset>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
															<font size="-1">Die Wetterdaten per Virtuellem HTML-Eingang vom Miniserver einlesen. Automatisch aktiviert.</font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labeldfc">Tages-Vorhersage senden:</label>
														</td>
														<td width="50%">
														<div data-role="collapsible">
														<h4>Bitte wählen</h4>
														<fieldset data-role="controlgroup">
														<input <!--$selecteddfc1--> type="checkbox" name="dfc1" id="dfc1">
														<label for="dfc1">Heute</label>
														<input <!--$selecteddfc2--> type="checkbox" name="dfc2" id="dfc2">
														<label for="dfc2">+1 Tag</label>
														<input <!--$selecteddfc3--> type="checkbox" name="dfc3" id="dfc3">
														<label for="dfc3">+2 Tage</label>
														<input <!--$selecteddfc4--> type="checkbox" name="dfc4" id="dfc4">
														<label for="dfc4">+3 Tage</label>
														</fieldset>
														</div>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														<font size="-1">Wähle nur die Tage aus, von denen Du Daten benötigst. Pro Vorhersage wird eine große Menge Daten übertragen,
														die den Miniserver überlasten könnten.</font>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labelhfc">Stunden-Vorhersage senden:</label>
														</td>
														<td width="50%">
														<div data-role="collapsible">
														<h4>Bitte wählen</h4>
														<fieldset data-role="controlgroup">
														<input <!--$selectedhfc1--> type="checkbox" name="hfc1" id="hfc1">
														<label for="hfc1">+1 Stunde</label>
														<input <!--$selectedhfc2--> type="checkbox" name="hfc2" id="hfc2">
														<label for="hfc2">+2 Stunden</label>
														<input <!--$selectedhfc3--> type="checkbox" name="hfc3" id="hfc3">
														<label for="hfc3">+3 Stunden</label>
														<input <!--$selectedhfc4--> type="checkbox" name="hfc4" id="hfc4">
														<label for="hfc4">+4 Stunden</label>
														<input <!--$selectedhfc5--> type="checkbox" name="hfc5" id="hfc5">
														<label for="hfc5">+5 Stunden</label>
														<input <!--$selectedhfc6--> type="checkbox" name="hfc6" id="hfc6">
														<label for="hfc6">+6 Stunden</label>
														<input <!--$selectedhfc7--> type="checkbox" name="hfc7" id="hfc7">
														<label for="hfc7">+7 Stunden</label>
														<input <!--$selectedhfc8--> type="checkbox" name="hfc8" id="hfc8">
														<label for="hfc8">+8 Stunden</label>
														<input <!--$selectedhfc9--> type="checkbox" name="hfc9" id="hfc9">
														<label for="hfc9">+9 Stunden</label>
														<input <!--$selectedhfc10--> type="checkbox" name="hfc10" id="hfc10">
														<label for="hfc10">+10 Stunden</label>
														<input <!--$selectedhfc11--> type="checkbox" name="hfc11" id="hfc11">
														<label for="hfc11">+11 Stunden</label>
														<input <!--$selectedhfc12--> type="checkbox" name="hfc12" id="hfc12">
														<label for="hfc12">+12 Stunden</label>
														<input <!--$selectedhfc13--> type="checkbox" name="hfc13" id="hfc13">
														<label for="hfc13">+13 Stunden</label>
														<input <!--$selectedhfc14--> type="checkbox" name="hfc14" id="hfc14">
														<label for="hfc14">+14 Stunden</label>
														<input <!--$selectedhfc15--> type="checkbox" name="hfc15" id="hfc15">
														<label for="hfc15">+15 Stunden</label>
														<input <!--$selectedhfc16--> type="checkbox" name="hfc16" id="hfc16">
														<label for="hfc16">+16 Stunden</label>
														<input <!--$selectedhfc17--> type="checkbox" name="hfc17" id="hfc17">
														<label for="hfc17">+17 Stunden</label>
														<input <!--$selectedhfc18--> type="checkbox" name="hfc18" id="hfc18">
														<label for="hfc18">+18 Stunden</label>
														<input <!--$selectedhfc19--> type="checkbox" name="hfc19" id="hfc19">
														<label for="hfc19">+19 Stunden</label>
														<input <!--$selectedhfc20--> type="checkbox" name="hfc20" id="hfc20">
														<label for="hfc20">+20 Stunden</label>
														<input <!--$selectedhfc21--> type="checkbox" name="hfc21" id="hfc21">
														<label for="hfc21">+21 Stunden</label>
														<input <!--$selectedhfc22--> type="checkbox" name="hfc22" id="hfc22">
														<label for="hfc22">+22 Stunden</label>
														<input <!--$selectedhfc23--> type="checkbox" name="hfc23" id="hfc23">
														<label for="hfc23">+23 Stunden</label>
														<input <!--$selectedhfc24--> type="checkbox" name="hfc24" id="hfc24">
														<label for="hfc24">+24 Stunden</label>
														<input <!--$selectedhfc25--> type="checkbox" name="hfc25" id="hfc25">
														<label for="hfc25">+25 Stunden</label>
														<input <!--$selectedhfc26--> type="checkbox" name="hfc26" id="hfc26">
														<label for="hfc26">+26 Stunden</label>
														<input <!--$selectedhfc27--> type="checkbox" name="hfc27" id="hfc27">
														<label for="hfc27">+27 Stunden</label>
														<input <!--$selectedhfc28--> type="checkbox" name="hfc28" id="hfc28">
														<label for="hfc28">+28 Stunden</label>
														<input <!--$selectedhfc29--> type="checkbox" name="hfc29" id="hfc29">
														<label for="hfc29">+29 Stunden</label>
														<input <!--$selectedhfc30--> type="checkbox" name="hfc30" id="hfc30">
														<label for="hfc30">+30 Stunden</label>
														<input <!--$selectedhfc31--> type="checkbox" name="hfc31" id="hfc31">
														<label for="hfc31">+31 Stunden</label>
														<input <!--$selectedhfc32--> type="checkbox" name="hfc32" id="hfc32">
														<label for="hfc32">+32 Stunden</label>
														<input <!--$selectedhfc33--> type="checkbox" name="hfc33" id="hfc33">
														<label for="hfc33">+33 Stunden</label>
														<input <!--$selectedhfc34--> type="checkbox" name="hfc34" id="hfc34">
														<label for="hfc34">+34 Stunden</label>
														<input <!--$selectedhfc35--> type="checkbox" name="hfc35" id="hfc35">
														<label for="hfc35">+35 Stunden</label>
														<input <!--$selectedhfc36--> type="checkbox" name="hfc36" id="hfc36">
														<label for="hfc36">+36 Stunden</label>
														</fieldset>
														</div>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														<font size="-1">Wähle nur die Stunden aus, von denen Du Daten benötigst. Pro Vorhersage wird eine große Menge Daten übertragen,
														die den Miniserver überlasten könnten.</font>
														</td>
													</tr>
													<tr>
														<td colspan=4>
														&nbsp;
														</td>
													</tr>
													<tr>
														<td colspan=3 width="75%" valign="middle">
														<h2>Webseite für Webpage-Baustein</h2>
														</td>
														<td align="right">
														&nbsp;
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labeltheme">Theme:</label>
														</td>
														<td width="50%">
															<select id="theme" name="theme" data-mini="true" data-native-menu="false">
																<option value="classic" <!--$selectedtheme1-->>Classic App</option>
																<option value="appv4" <!--$selectedtheme2-->>App V4</option>
																<option value="custom" <!--$selectedtheme3-->>Custom</option>
															</select>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														<a href="#" data-role="button" id="preview1" data-inline="true" data-mini="true" onClick="preview();">
														<font size="-1">Vorschau</font>
														</a>
														</td>
													</tr>
													<tr>
														<td width="25%">
															<label id="labeliconset">Iconset:</label>
														</td>
														<td width="50%">
															<select id="iconset" name="iconset" data-mini="true" data-native-menu="false">
																<option value="color" <!--$selectediconset1-->>Color</option>
																<option value="flat" <!--$selectediconset2-->>Flat</option>
																<option value="dark" <!--$selectediconset3-->>Dark</option>
																<option value="light" <!--$selectediconset4-->>Light</option>
																<option value="green" <!--$selectediconset5-->>Green</option>
																<option value="silver" <!--$selectediconset6-->>Silver</option>
																<option value="realistic" <!--$selectediconset7-->>Realistic</option>
																<option value="custom" <!--$selectediconset8-->>Custom</option>
															</select>
														</td>
														<td width="5%" valign="middle">
															&nbsp;
														</td>
														<td width="20%">
														<a href="#" data-role="button" id="preview2" data-inline="true" data-mini="true" onClick="preview();">
														<font size="-1">Vorschau</font>
														</a>
														</td>
													</tr>
													<tr>
														<td colspan=4>
														&nbsp;
														</td>
													</tr>
													<tr>
														<td></td>
														<td colspan=3>
														<div id="form-error-message" class="form-error-message"></div>
													</td>
												</tr>
											</table>
										</div>
									<p>
										&nbsp;
									</p>
									<p>
										<center>
											<a id="btncancel" data-role="button" data-inline="true" data-mini="true" data-icon="delete" href="/admin/index.cgi">Abbrechen</a>
												<button type="submit" form="main_form" id="btnsubmit" data-role="button" data-inline="true" data-mini="true" data-icon="check">Speichern</button>
										</center>
									</form>
									</p>
                  <script>
                    var $messages = $('#form-error-message');
                    $.validate({
                      modules : 'security',
                      scrollToTopOnError : true,
                      errorMessagePosition : $messages,
                    });

																				// Preview Link for theme and iconset
																				function preview() {
																				url = './show.cgi?theme=' + $('#theme').val() + '&iconset=' + $('#iconset').val();
																				window.open(url, 'NewWindow');
																				}

                    // Disable some options on Load depending on selected value
                    disable();

                    // Disable some options on click depending on selected value
                    function disable() {
                      // Station ID
                      if ( document.main_form.stationtypstatid.checked == true ) {
                        $('#linkwundermap').removeClass('ui-disabled');
                        $('#labelstationid').removeClass('ui-disabled');
                        $('#stationid').removeClass('ui-disabled');
                        $('#labelcoord').addClass('ui-disabled');
                        $('#labelcoordlat').addClass('ui-disabled');
                        $('#labelcoordlong').addClass('ui-disabled');
                        $('#coordlat').addClass('ui-disabled');
                        $('#coordlong').addClass('ui-disabled');
                        $('#coordaddresssearch').addClass('ui-disabled');
                        $('#coordminiserver').addClass('ui-disabled');
                        $('#stationid').removeClass('ui-disabled');
                      }
                      if ( document.main_form.stationtypcoord.checked == true ) {
                        $('#linkwundermap').addClass('ui-disabled');
                        $('#labelstationid').addClass('ui-disabled');
                        $('#labelcoord').removeClass('ui-disabled');
                        $('#labelcoordlat').removeClass('ui-disabled');
                        $('#labelcoordlong').removeClass('ui-disabled');
                        $('#coordlat').removeClass('ui-disabled');
                        $('#coordlong').removeClass('ui-disabled');
                        $('#coordaddresssearch').removeClass('ui-disabled');
                        $('#coordminiserver').removeClass('ui-disabled');
                        $('#stationid').addClass('ui-disabled');
                      }
                      if ( document.main_form.stationtypautoip.checked == true ) {
                        $('#linkwundermap').addClass('ui-disabled');
                        $('#labelstationid').addClass('ui-disabled');
                        $('#stationid').addClass('ui-disabled');
                        $('#labelcoord').addClass('ui-disabled');
                        $('#labelcoordlat').addClass('ui-disabled');
                        $('#labelcoordlong').addClass('ui-disabled');
                        $('#coordlat').addClass('ui-disabled');
                        $('#coordlong').addClass('ui-disabled');
                        $('#coordaddresssearch').addClass('ui-disabled');
                        $('#coordminiserver').addClass('ui-disabled');
                      }
                    }
                  </script>
